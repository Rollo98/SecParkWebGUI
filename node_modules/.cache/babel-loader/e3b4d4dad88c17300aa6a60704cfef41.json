{"ast":null,"code":"import _classCallCheck from \"/Users/rolandpaiusan/Desktop/SecParkWebGUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rolandpaiusan/Desktop/SecParkWebGUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/rolandpaiusan/Desktop/SecParkWebGUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/rolandpaiusan/Desktop/SecParkWebGUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/rolandpaiusan/Desktop/SecParkWebGUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/rolandpaiusan/Desktop/SecParkWebGUI/src/components/Parklist.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport io from \"socket.io-client\";\n\nvar Parklist =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Parklist, _Component);\n\n  function Parklist(props) {\n    var _this;\n\n    _classCallCheck(this, Parklist);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Parklist).call(this, props));\n    _this.state = {};\n    _this.state.parks = {};\n    _this.state.sock = {\n      socket: io.connect(\"http://localhost:5000\")\n    };\n\n    _this.state.sock.socket.on(localStorage.getItem(\"JWT_TOKEN\"), function () {\n      return _this.componentDidMount();\n    });\n\n    return _this;\n  }\n\n  _createClass(Parklist, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var jwtToken = localStorage.getItem(\"JWT_TOKEN\");\n      Axios.defaults.headers.common[\"Authorization\"] = jwtToken;\n      Axios.post(\"http://localhost:5000/parks/get_parks\").then(function (Response) {\n        return _this2.setState({\n          parks: Response.data.parks\n        });\n      });\n    }\n  }, {\n    key: \"renderParks\",\n    value: function renderParks() {\n      var parks = Object.values(this.state.parks);\n      var x = parks.map(function (n) {\n        return React.createElement(\"div\", {\n          key: n.date,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/park/\".concat(n.title, \":\").concat(n.date),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, n.title)));\n      });\n      return x;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, this.renderParks());\n    }\n  }]);\n\n  return Parklist;\n}(Component);\n\nexport { Parklist as default };","map":{"version":3,"sources":["/Users/rolandpaiusan/Desktop/SecParkWebGUI/src/components/Parklist.js"],"names":["React","Component","Link","Axios","io","Parklist","props","state","parks","sock","socket","connect","on","localStorage","getItem","componentDidMount","jwtToken","defaults","headers","common","post","then","Response","setState","data","Object","values","x","map","n","date","title","renderParks"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,kBAAf;;IAEqBC,Q;;;;;AACnB,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa,EAAb;AACA,UAAKA,KAAL,CAAWC,KAAX,GAAmB,EAAnB;AACA,UAAKD,KAAL,CAAWE,IAAX,GAAkB;AAChBC,MAAAA,MAAM,EAAEN,EAAE,CAACO,OAAH,CAAW,uBAAX;AADQ,KAAlB;;AAGA,UAAKJ,KAAL,CAAWE,IAAX,CAAgBC,MAAhB,CAAuBE,EAAvB,CAA0BC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAA1B,EAA6D;AAAA,aAC3D,MAAKC,iBAAL,EAD2D;AAAA,KAA7D;;AAPiB;AAUlB;;;;wCAEmB;AAAA;;AAClB,UAAMC,QAAQ,GAAGH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAjB;AACAX,MAAAA,KAAK,CAACc,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDH,QAAjD;AACAb,MAAAA,KAAK,CAACiB,IAAN,CAAW,uCAAX,EAAoDC,IAApD,CAAyD,UAAAC,QAAQ;AAAA,eAC/D,MAAI,CAACC,QAAL,CAAc;AAAEf,UAAAA,KAAK,EAAEc,QAAQ,CAACE,IAAT,CAAchB;AAAvB,SAAd,CAD+D;AAAA,OAAjE;AAGD;;;kCAEa;AACZ,UAAMA,KAAK,GAAGiB,MAAM,CAACC,MAAP,CAAc,KAAKnB,KAAL,CAAWC,KAAzB,CAAd;AACA,UAAImB,CAAC,GAAGnB,KAAK,CAACoB,GAAN,CAAU,UAAAC,CAAC;AAAA,eACjB;AAAK,UAAA,GAAG,EAAEA,CAAC,CAACC,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AAAM,UAAA,EAAE,kBAAWD,CAAC,CAACE,KAAb,cAAsBF,CAAC,CAACC,IAAxB,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAyCD,CAAC,CAACE,KAA3C,CADF,CADF,CADiB;AAAA,OAAX,CAAR;AAOA,aAAOJ,CAAP;AACD;;;6BAEQ;AACP,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKK,WAAL,EAAN,CAAP;AACD;;;;EAnCmC/B,S;;SAAjBI,Q","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport io from \"socket.io-client\";\n\nexport default class Parklist extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.state.parks = {};\n    this.state.sock = {\n      socket: io.connect(\"http://localhost:5000\")\n    };\n    this.state.sock.socket.on(localStorage.getItem(\"JWT_TOKEN\"), () =>\n      this.componentDidMount()\n    );\n  }\n\n  componentDidMount() {\n    const jwtToken = localStorage.getItem(\"JWT_TOKEN\");\n    Axios.defaults.headers.common[\"Authorization\"] = jwtToken;\n    Axios.post(\"http://localhost:5000/parks/get_parks\").then(Response =>\n      this.setState({ parks: Response.data.parks })\n    );\n  }\n\n  renderParks() {\n    const parks = Object.values(this.state.parks);\n    var x = parks.map(n => (\n      <div key={n.date}>\n        <h2>\n          <Link to={`/park/${n.title}:${n.date}`}>{n.title}</Link>\n        </h2>\n      </div>\n    ));\n    return x;\n  }\n\n  render() {\n    return <div>{this.renderParks()}</div>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}